---
sidebarDepth: 1
---

# 作用域

- 是存储与查找变量的一套规则
- 作用域又分为：**静态作用域**和**动态作用域**
    - 静态作用域：函数的作用域在函数定义的时候就决定了
    - 动态作用域：函数的作用域是在函数调用的时候才决定的
- JavaScript 采用词法作用域，也就是静态作用域
    ::: details
    ```js
    var value = 1;

    function foo() {
        console.log(value);
    }

    function bar() {
        var value = 2;
        foo();
    }

    bar();
    ```
    - 打印 `1`，就是采用静态作用域
    - 打印 `2`，就是采用动态作用域
    这个例子的结果是 `1` 所以 JavaScript 采用的是静态作用域
    :::

## 词法作用域
由书写代码是函数声明的位置来决定的
```js
function foo(a) {
  var b = a * 2;
  function bar(c) {
    console.log(a, b, c);
  }
  bar(b * 3);
}
foo(2)
```
**存储**
1. 全局作用域，包含标识符：foo
2. foo创建的作用域，包含标识符：a、b、bar
3. bar创建的作用域，包含标识符：c

**查找**
1. bar()需要查找a、b、c标识符，先在自己的作用域查找，找到了c变量，a、b在自己的作用域找不到，去上一级找，找到了a、b变量
2. foo()需要查找a、b、bar标识符，三个都在自己的作用域找到，找不到会去foo()上级的作用域查找，也就是全局作用域(window)

:::tip 总结
函数在哪里被调用，也无论它如何被调用，它的词法作用域都只由函数被声明时所处的位置决定
:::